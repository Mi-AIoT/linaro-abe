{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c3a5620f_c428d62e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-24T20:37:42Z",
      "side": 1,
      "message": "Some questions...\n\nAlso, a couple of weeks ago I made a comment on validate_failures.py:\n\nhttps://review.linaro.org/c/toolchain/gcc-compare-results/+/44072/comment/8291c09d_cf2b016c/\n\nIf my comment there is relevant, could it be affecting CI results?",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0e8ef332_9296bdca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-05-25T06:34:23Z",
      "side": 1,
      "message": "Thanks for the ping, I missed your comment.  Now answered -- in short, it is a bug, but harmless.",
      "parentUuid": "c3a5620f_c428d62e",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a09d8118_04bb1fa7",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1088,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-24T20:37:42Z",
      "side": 1,
      "message": "This loses the \"# From ${BUILD_URL-$(pwd)}:\" comment that round-robin.sh:build_abe() puts at the beginning of the file before calling ABE. Is this a problem?\n\nAlso, I don\u0027t see a reason to move it to $baseline_flaky. At least the way round-robin.sh:build_abe() currently calls ABE, the file is empty (except for the comment I mentioned above). We can use it directly for $new_flaky.\n\nOr does this new approach depend on stable expected failures being provided separately from known flaky tests? If so, build_abe() needs to be changed accordingly.",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d8479ee_7b1ce46c",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1088,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-05-25T06:34:23Z",
      "side": 1,
      "message": "Great question!  For this to work it requires changes to round-robin.sh:build_abe() to provide baseline flaky and baseline fails lists separately.  The new approach depends on discarding baseline fails after testing \"try #0\", but we want baseline flaky list to be ignored for all iterations.\n\nThe round-robin.sh:build_abe() changes are here: https://review.linaro.org/c/toolchain/jenkins-scripts/+/44303/22/round-robin.sh#401 .  I\u0027m testing them as part of pre-commit work.  Once tested, I\u0027ll post a separate patch for build_abe() changes.",
      "parentUuid": "a09d8118_04bb1fa7",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f370e027_c9fc9769",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1096,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-24T20:37:42Z",
      "side": 1,
      "message": "The baseline flaky tests are also in $expected_failures. $flaky_failures is used just as an output parameter.",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "422d8ace_b0f7a97f",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1096,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-05-25T06:34:23Z",
      "side": 1,
      "message": "After corresponding build_abe() changes, $expected_failures have no flaky tests.\n\nThis patch makes $flaky_failures a both input and output parameter; I could have added a new parameter, but it seems a fairly niche case, so I didn\u0027t bother.",
      "parentUuid": "f370e027_c9fc9769",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5b45106a_1fec2430",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1096,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-25T12:28:38Z",
      "side": 1,
      "message": "I agree it\u0027s ok to reuse $flaky_failures.",
      "parentUuid": "422d8ace_b0f7a97f",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a158e6e_3cdef28b",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1141,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-24T20:37:42Z",
      "side": 1,
      "message": "Looking at validate_failures.py:CompareResults(), the flaky attribute in a line just causes it to be ignored from the manifest file so it doesn\u0027t matter whether it repeats a result without the flaky attribute, and it also doesn\u0027t matter whether it appears before or after the same result without the flaky attribute.",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "890fed8f_50e87cd1",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1141,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-25T12:28:38Z",
      "side": 1,
      "message": "This explanation wasn\u0027t correct. The actual relevant code is TestResult.__eq__() as you clarified.",
      "parentUuid": "1a158e6e_3cdef28b",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5b74612f_04df696e",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1148,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-24T20:37:42Z",
      "side": 1,
      "message": "Since $baseline_flaky is empty, this isn\u0027t necessary.",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2df1f23_53f85c13",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1148,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-05-25T06:34:23Z",
      "side": 1,
      "message": "Sorry, I should have mentioned the required matching changes to build_abe().",
      "parentUuid": "5b74612f_04df696e",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc028989_c1a9aaa2",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1148,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-25T12:28:38Z",
      "side": 1,
      "message": "No problem, thanks for the clarification.",
      "parentUuid": "c2df1f23_53f85c13",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a36eb316_97fe4d34",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1400,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-24T20:37:42Z",
      "side": 1,
      "message": "If a testcase.exp file contains one test that always fails, and one that is flaky, e.g.:\n\nRunning testcase.exp ...\nFAIL: This is a real failure\nFAIL: This is one is flaky\n\nWon\u0027t the lack of including $expected_failures cause the real failure to also be marked as flaky?",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fae8461b_7399c6ce",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1400,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-05-25T06:34:23Z",
      "side": 1,
      "message": "We add to the flaky list difference between $try-1 and $try for $try\u003e\u003d1.  As \"real failure\" always fails, it will never appear in the difference and will not be marked as flaky.",
      "parentUuid": "a36eb316_97fe4d34",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddef17df_4151e1e0",
        "filename": "lib/make.sh",
        "patchSetId": 3
      },
      "lineNbr": 1400,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-05-25T12:28:38Z",
      "side": 1,
      "message": "Thanks for the clarification.\n\nI see that in patchset 9 there\u0027s a $prev_try_fails so the real failure will appear in it. That makes things easier to follow.",
      "parentUuid": "fae8461b_7399c6ce",
      "revId": "98959482dd6244b3af9b8558a2b891581ef0ebd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    }
  ]
}