{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a768fc63_f99587e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T06:28:21Z",
      "side": 1,
      "message": "Hello,\n\nThis makes ABE rerun failed tests and uses the new --merge option in compare_dg_tests.pl.\nIn order to run that script, a new option was needed to point ABE to the gcc-compare-results directory.",
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b75ca59d_3156f1f1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "Hi Thiago,\n\nDo I understand correctly that this patch will re-run tests while there are differences in the set of failed .exp files, but will not re-try testsuites when we have differences in FAILs in the same .exp file?\n\nE.g., on the 1st try:\nRunning foo.exp ...\nFAIL: test1\nFAIL: test2\n\non the 2nd try:\nRunning foo.exp ...\nPASS: test1\nFAIL: test2\n\non the 3rd try:\nFAIL: test1\nPASS: test2\n\nIn the above case after 3 tries we get a green testsuite.  Looking at this patch it seems we will stop after the 2nd try because set of .exp files with FAILed tests didn\u0027t change.  Or am I missing something?",
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d99fba7c_b6854fd9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Ah, that\u0027s true. I\u0027ll have to keep a list of old and new failed tests to determine when to stop rerunning the testsuite, rather than a list of exp files as I do now. Thanks for pointing this out. Will fix for v2.",
      "parentUuid": "b75ca59d_3156f1f1",
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "903aa503_3f8088e6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Thank you for your comments! I\u0027ll fix all of them for v2.",
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "539da393_118a113b",
        "filename": "abe.sh",
        "patchSetId": 1
      },
      "lineNbr": 878,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "These are better placed in lib/globals.sh .",
      "range": {
        "startLine": 877,
        "startChar": 0,
        "endLine": 878,
        "endChar": 22
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "487493b1_244aa8f4",
        "filename": "abe.sh",
        "patchSetId": 1
      },
      "lineNbr": 878,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Indeed. Will do for v2.",
      "parentUuid": "539da393_118a113b",
      "range": {
        "startLine": 877,
        "startChar": 0,
        "endLine": 878,
        "endChar": 22
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c70ec561_c148a23f",
        "filename": "abe.sh",
        "patchSetId": 1
      },
      "lineNbr": 1276,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "The usual practice in shell for variables, which are set to either \"true\" or \"false\" is to use them directly without wrapping \"test\" around them:\nif $rerun_failed_tests \u0026\u0026 [ -z \"$gcc_compare_results\" ]",
      "range": {
        "startLine": 1276,
        "startChar": 3,
        "endLine": 1276,
        "endChar": 38
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9c558b57_f44218e0",
        "filename": "abe.sh",
        "patchSetId": 1
      },
      "lineNbr": 1276,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Thanks. Changed for v2.",
      "parentUuid": "c70ec561_c148a23f",
      "range": {
        "startLine": 1276,
        "startChar": 3,
        "endLine": 1276,
        "endChar": 38
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b274448_864b4dc1",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 837,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "Why limit?  Shouldn\u0027t we re-run until convergence of old_failed_exps and new_failed_exps?",
      "range": {
        "startLine": 837,
        "startChar": 43,
        "endLine": 837,
        "endChar": 57
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03eb208a_ed6f8169",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 837,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "One thing that happens with GDB is that tests keep flipping back and forth between passing and failing, and old_failed_exps and new_failed_exps never converge.\n\nI will experiment with keeping all old_failed_exps and stopping when new_failed_exps is equal to any of them. That should detect cycles.\n\nWell, actually old_failed_tests and new_failed_tests as you pointed out in the other comment.",
      "parentUuid": "0b274448_864b4dc1",
      "range": {
        "startLine": 837,
        "startChar": 43,
        "endLine": 837,
        "endChar": 57
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3fd0f71_93465c81",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 849,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "if ! $rerun_failed_tests; then",
      "range": {
        "startLine": 849,
        "startChar": 8,
        "endLine": 849,
        "endChar": 41
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25fc2452_ae36be47",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 849,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Fixed for v2, thanks.",
      "parentUuid": "b3fd0f71_93465c81",
      "range": {
        "startLine": 849,
        "startChar": 8,
        "endLine": 849,
        "endChar": 41
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a28634e0_a1f2a978",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 851,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "Maybe \"Finished testing; rerun_failed_tests is not active\"",
      "range": {
        "startLine": 851,
        "startChar": 10,
        "endLine": 851,
        "endChar": 41
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24828ccb_d5d593e7",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 851,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Oops, this is a debug statement that managed to escape. Removed for v2.\nThere\u0027s already a notice \"Ran the testsuite $try times.\" so I don\u0027t think another notice here is necessary.",
      "parentUuid": "a28634e0_a1f2a978",
      "range": {
        "startLine": 851,
        "startChar": 10,
        "endLine": 851,
        "endChar": 41
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9068595_e9aef81a",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 870,
      "author": {
        "id": 1000072
      },
      "writtenOn": "2023-03-07T09:51:17Z",
      "side": 1,
      "message": "Why only on $last_sum and not on all the .sum files?",
      "range": {
        "startLine": 870,
        "startChar": 150,
        "endLine": 870,
        "endChar": 158
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5319db6d_6aaefc7a",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 870,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Ah, indeed. I had a TODO note to fix this but forgot to get to it.\nThough in tcwg_gnu-build.sh the retry feature is only enabled for GDB and the GDB testsuite produces only one sum file, so this is enough for now.\n\nBut I\u0027ll fix for v2, thank you for noticing.",
      "parentUuid": "e9068595_e9aef81a",
      "range": {
        "startLine": 870,
        "startChar": 150,
        "endLine": 870,
        "endChar": 158
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "367eed1b_d7038cc4",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 874,
      "author": {
        "id": 1000092
      },
      "writtenOn": "2023-03-07T11:14:34Z",
      "side": 1,
      "message": "Why?\nLet\u0027s say we have 2 tests, on the first try results are ...\nPASS: test1\nFAIL: test2\n\n... and on the second run results are:\nPASS: test2\n.\n\nIn this case we have 100% of tests PASSed and testsuite is green.",
      "range": {
        "startLine": 874,
        "startChar": 4,
        "endLine": 874,
        "endChar": 24
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a43c54f_d8b8aace",
        "filename": "lib/make.sh",
        "patchSetId": 1
      },
      "lineNbr": 874,
      "author": {
        "id": 1000534
      },
      "writtenOn": "2023-03-07T17:15:49Z",
      "side": 1,
      "message": "Indeed, that\u0027s true. I\u0027ll have to parse the summary section at the end of the synthetic sum file to see whether the testsuite is green.",
      "parentUuid": "367eed1b_d7038cc4",
      "range": {
        "startLine": 874,
        "startChar": 4,
        "endLine": 874,
        "endChar": 24
      },
      "revId": "9cc23ddaee0940d394e881b7cd73d6e06496cbd2",
      "serverId": "f33910f19b7abb192b83adbd000000bf"
    }
  ]
}